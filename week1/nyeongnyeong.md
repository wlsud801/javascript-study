_\*모던 자바스크립트 Deep Dive를 읽으며 정리한 내용입니다._

# 4.변수

- 변수
  - 하나의 값을 저장하기 위해 확보한 메모리 공간 자체(직접 메모리 공간에 접근하는 것은 시스템에 치명적인 오류를 줄 수 있음)와 그 메모리 공간을 식별하기 위해 붙인 이름(임의로 상황에 따라 변경되는 메모리 주소 대신에 사용)
  - 변수라는 식별자로, 식별자가 기억하고 있는 메모리 주소를 통해 저장된 값에 접근
  - `10 + 20` : 자바스크립트 엔진이 코드를 `평가`, `리터럴`과 `연산자`의 의미를 알고 있어야하고, `표현식`의 의미를 해석해 `파싱`
- var
  - `var score` 처럼 var는 선언을 하면, 선언과 초기화 단계가 동시에 일어난다. 암묵적으로 초기화단계도 거치게돼 `undefined`가 할당된다.
  - 선언 : 변수 이름을 실행 컨텍스트에 등록하는 작업, 선언하지 않는 식별자 접근한다면 `ReferenceError` 가 발생함.
  - 초기화 : 변수가 선언된 이후 최초로 값을 할당하는 것. 이전 다른 앱에서 사용했던 값(garbage value)이 남아 있을 수 있어 초기화 단계를 거침.
- 호이스팅
  - 변수선언은 소스코드가 한 줄씩 순차적으로 실행되는 시점인 런타임이 아니라 그 이전 단계인 소스코드 평가과정에서 먼저 실행되기 때문에, 선언문 이전에 변수를 적어도 `ReferenceError` 는 발생하지 않고 `undefined`를 출력한다. 이처럼 변수 선언문이 코드 상단으로 끌어올려진 것처럼 동작하는 것을 호이스팅이라고 한다.
  - var, let, const, function, class 키워드를 사용하는 무든 식별자는 호이스팅 된다.
- 할당
  - 선언은 런타임 이전에 먼저 실행, 할당은 런타임 시점에 실행
  - 선언과 할당을 하나의 문장으로 적어도, 자바스크립트 엔진은 각각 2개의 문으로 나눠서 실행
  - 할당시에는 기존 초기화됐던 undefined 메모리 공간을 수정하거나 삭제하는 것이 아니라, 새로운 메모리 공간을 확보하여 80이 저장됨
- 재할당
  - `90`을 재할당하게되면 이전 `undefined`, `80`은 어떤 식별자와도 연결돼있지 않게 되고, garbage collector 에 의해 메모리에서 자동해제됨
  - 가비지 콜렉터 : 더 이상 사용되지 않는 메모리를 해제하는 기능, 메모리 누수를 방지함

```
console.log(score) // undefined

var score; // (1)변수 선언
score = 80; // (2)값의 할당

console.log(score) // 80
```

```
console.log(score) // undefined

var score = 80 // 변수 선언과 값의 할당

console.log(score) // 80
```

